{"version":3,"file":"pages/Lists/index.js","sources":["webpack:///._src_pages_Lists_index.jsx","webpack:///._src_pages_Lists_index.css","webpack:///./src/pages/Lists/index.jsx?4ee5"],"sourcesContent":["import { Component } from 'react'\r\nimport Taro from '@tarojs/taro'\r\nimport { View } from '@tarojs/components'\r\nimport Goods from '../../Components/Goods'\r\nimport './index.css'\r\nimport Fetch from '../../Service/fetch'\r\n\r\nexport default class Index extends Component {\r\n\r\n  state = {\r\n    goods: [],\r\n  }\r\n\r\n  componentDidMount() {\r\n    Fetch(`/user/goods`, {}, 'GET')\r\n      .then(res => {\r\n        // console.log(res)\r\n        if (res.data) {\r\n          this.setState({ goods: res.data })\r\n        }\r\n      })\r\n  }\r\n\r\n  todetail() {\r\n    Taro.navigateTo({\r\n      url: '/pages/Goods-details/index?goods_id=' + this.id\r\n    })\r\n  }\r\n  // Todetail=(goods_id)=>{\r\n  //   Taro.redirectTo({\r\n  //     url:'/pages/Goods-details/index?goods_id='+goods_id\r\n  //   })\r\n  //   return 1\r\n  // }\r\n\r\n  delgood = (id) => {\r\n    Fetch(`/user/goods/${id}`, {}, 'DELETE')\r\n      .then(\r\n        Fetch(`/user/goods`, {}, 'GET')\r\n          .then(res => {\r\n            if (res.data) {\r\n              this.setState({ goods: res.data })\r\n            }\r\n          })\r\n      )\r\n  }\r\n\r\n  sellgood = (id) => {\r\n    Fetch(`/user/goods/${id}`, {}, 'PUT')\r\n      .then(\r\n        Fetch(`/user/goods`, {}, 'GET')\r\n          .then(res => {\r\n            if (res.data) {\r\n              this.setState({ goods: res.data })\r\n            }\r\n          })\r\n      )\r\n  }\r\n\r\n  render() {\r\n    const { goods } = this.state\r\n    return (\r\n      <View>\r\n        {goods.map((good) => {\r\n          return <Goods key={good.id} {...goods} goods={goods} todetail={this.todetail} delgood={this.delgood} sellgood={this.sellgood} id={good.id} goods_images_videos={good.goods_images_videos} content={good.content} if_sell={good.if_sell} if_del={good.if_del} user_nickname={good.user_nickname} />\r\n        })}\r\n      </View>\r\n    )\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../node_modules/babel-loader/lib/index.js!./index.jsx\"\nvar config = {\"navigationBarTitleText\":\"我发布的\"};\n\n\nvar inst = Page(createPageConfig(component, 'pages/Lists/index', {root:{cn:[]}}, config || {}))\n\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;AAEA;;;;;;;;;;;;;;;;AAEA;AACA;AADA;AACA;AAyBA;AACA;AAIA;AACA;AAAA;AAAA;AACA;AAJA;;;AASA;AACA;AAIA;AACA;AAAA;AAAA;AACA;AAJA;;;;;;;;AArCA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AALA;AAOA;;;AAEA;AACA;AACA;AADA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAyBA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AADA;AAMA;;;;AA7DA;AACA;;;;;;;;;;;;ACRA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}