{"version":3,"file":"pages/changeUserinfo/index.js","sources":["webpack:///._src_pages_changeUserinfo_index.jsx","webpack:///._src_pages_changeUserinfo_index.css","webpack:///./src/pages/changeUserinfo/index.jsx?acad"],"sourcesContent":["import { Component } from 'react'\nimport Taro from '@tarojs/taro'\nimport { View, Button, Image, Form, Input } from '@tarojs/components'\nimport './index.css'\nimport Fetch from '../../Service/fetch'\n\nexport default class Index extends Component {\n\n  state = {\n    avatar: '',\n    username: ''\n  }\n\n  changeAvater = () => {\n    const { avatar } = this.state\n    const params = {};\n    params.count = 1;\n    params.sizeType = ['original', 'compressed'];\n    params.sourceType = ['album', 'camera'];\n    Taro.chooseImage(params)\n      .then(res => {\n        const { tempFilePaths } = res\n        const file = Taro.getFileSystemManager().readFileSync(tempFilePaths[0], \"base64\")\n        this.setState({\n          avatar: file,\n        });\n      })\n      .then(\n        Fetch(`/user/image`, { avatar }, 'PUT')\n      )\n      .catch(error => {\n        console.error(error);\n      });\n  }\n\n  changeName = (e) => {\n    this.setState({\n      username: e.target.value\n    });\n  }\n\n\n  render() {\n    const { avatar, username } = this.state\n    return (\n      <View className='index'>\n        <Form\n          className='from'\n          onSubmit={this.onSubmit.bind(this)}\n          onReset={this.onReset.bind(this)}\n        >\n          <View className='from-content'>\n            <View className='avatar'>\n              <View>修改头像</View>\n              <Image\n                src={avatar}\n                // src=\"https://thirdqq.qlogo.cn/qqapp/1108100302/AEC7B0E25CBC86FC3098E2FC0FD5CD0D/100\"\n                onClick={this.toChangeAvatar.bind(this)}\n                className='avatar-img'\n              ></Image>\n              <View className='icon-right'>\n              </View>\n            </View>\n            <View className='user-name'>\n              <View className='nick'>昵称</View>\n              <Input\n                maxLength='10'\n                className='nick-input'\n                placeholder='昵称'\n                placeholderClass='input-font'\n                value={username}\n                onChange={this.toChangeName.bind(this)}\n              // onFocus={this.handleFocus.bind(this)}\n              // onBlur={this.handleUnFocus.bind(this)}\n              // focus\n              />\n              {/* {!onfocus && <MxIcon type=\"cross\"></MxIcon>} */}\n              <View className='icon-right'>\n              </View>\n            </View>\n          </View>\n          <View className='from-button'>\n            <Button formType='reset' className='reset-button'>\n              取消\n            </Button>\n            <Button formType='submit' className='submit-button'>\n              保存\n            </Button>\n          </View>\n        </Form>\n        {/* <View className='log-out' onClick={this.handleLogout.bind(this)}>\n          退出登陆\n        </View> */}\n      </View>\n\n    )\n  }\n}","// extracted by mini-css-extract-plugin","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../node_modules/babel-loader/lib/index.js!./index.jsx\"\nvar config = {};\n\n\nvar inst = Page(createPageConfig(component, 'pages/changeUserinfo/index', {root:{cn:[]}}, config || {}))\n\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;;;AAEA;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AADA;AAJA;AASA;AAAA;AAGA;AAZA;;;AAgBA;AACA;AACA;AADA;;;;;;;;AAMA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAHA;AAKA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AADA;AAGA;AACA;AAJA;AAMA;AAAA;AARA;AAWA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAVA;AAYA;AAAA;AAdA;AAZA;AA8BA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAJA;AAnCA;AADA;AAmDA;;;;AA1FA;AACA;;;;;;;;;;;;ACPA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}