{"version":3,"file":"pages/Addgoods/index.js","sources":["webpack:///._src_pages_Addgoods_index.jsx","webpack:///._src_pages_Addgoods_index.css","webpack:///./src/pages/Addgoods/index.jsx?23b7"],"sourcesContent":["import { Component } from 'react'\nimport Taro from '@tarojs/taro'\nimport { View, Textarea, Button, Image } from '@tarojs/components'\nimport './index.css'\nimport Modal3 from '../../Components/Modal3'\nimport Fetch from '../../Service/fetch'\n\nexport default class Index extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      text: '客官，请留下您的联系方式',\n      place: '请输入您的QQ号',\n      hidden: true,\n      images: []\n    }\n  }\n\n  toTags() {\n    Taro.navigateTo({\n      url: '/pages/Tags/index'\n    })\n  }\n\n  showModal = () => {\n    const ifHidden = this.state.hidden\n    const Hidden = !ifHidden\n    this.setState({ hidden: Hidden })\n  }\n\n  changeHidden = () => {\n    const ifHidden = this.state.hidden\n    const Hidden = !ifHidden\n    this.setState({ hidden: Hidden })\n  }\n\n  addImage = () => {\n    const { images } = this.state\n    const params = {};\n    params.count = 9-images.length;\n    params.sizeType = ['original', 'compressed'];\n    params.sourceType = ['album', 'camera'];\n    Taro.chooseImage(params)\n      .then(res => {\n        console.log(res)\n        const { tempFilePaths } = res\n        const file = Taro.getFileSystemManager().readFileSync(tempFilePaths[0], \"base64\")\n        console.log(file)\n        this.setState({\n          images: file,\n        });\n      })\n  }\n\n  handleChange(e) {\n    this.setState({ content: e.target.content });\n  }\n\n  render() {\n    const { images } = this.state\n    return (\n      <View>\n        <View className='AddGoods_container'>\n          <Textarea type='number' placeholder='请描述一下你的宝贝' maxlength={200} className='AddGoods_textarea' value={this.state.content} onChange={this.handleChange}></Textarea>\n          <Button onClick={this.toTags} className='AddGoods_tag'>#</Button>\n          <View>\n            <View>\n               { images.map((image) => {\n                  return <Image key={image.image_id} {...image} />\n                })}\n\n            </View>\n            <View className='AddGoods_addimg' onClick={this.addImage}></View>\n          </View>\n        </View>\n        <Button className='AddGoods_sell' onClick={this.showModal}>发布</Button>\n        <Modal3 hidden={this.state.hidden} changeHidden={this.changeHidden} text={this.state.text} place={this.state.place} maxlength='10' />\n      </View>\n    )\n  }\n}","// extracted by mini-css-extract-plugin","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../node_modules/babel-loader/lib/index.js!./index.jsx\"\nvar config = {\"navigationBarTitleText\":\"发布商品\"};\n\n\nvar inst = Page(createPageConfig(component, 'pages/Addgoods/index', {root:{cn:[]}}, config || {}))\n\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;AAEA;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAiBA;AACA;AACA;AAAA;AAAA;AAAA;AAnBA;AACA;AADA;AAuBA;AACA;AACA;AAAA;AAAA;AAAA;AAzBA;AACA;AADA;AA6BA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AANA;AAlCA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAFA;AAQA;AACA;;;AACA;AACA;AACA;AADA;AAGA;;;AAgCA;AACA;AAAA;AAAA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AADA;AADA;AAMA;AAAA;AAAA;AAPA;AAHA;AAaA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAfA;AAkBA;;;;AAzEA;AACA;;;;;;;;;;;;ACRA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}