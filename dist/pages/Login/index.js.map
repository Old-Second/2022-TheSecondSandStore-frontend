{"version":3,"file":"pages/Login/index.js","sources":["webpack:///._src_pages_Login_index.jsx","webpack:///._src_Images_background.png","webpack:///._src_Images_字体1.png","webpack:///._src_pages_Login_index.css","webpack:///./src/pages/Login/index.jsx?3485"],"sourcesContent":["import { Component } from 'react'\nimport { View, Input, Button,Image} from '@tarojs/components'\nimport Taro from '@tarojs/taro'\nimport './index.css' \nimport image from '../../Images/background.png'\nimport ziti from '../../Images/字体1.png'\nimport Fetch from '../../Service/fetch'\n\nexport default class Index extends Component {\n  constructor() {\n    super(...arguments)\n    this.state = {\n        account: '',\n        password: '',\n    }\n}\ngetuserid(e) {\n    this.setState({\n        account: e.target.value\n    });\n}\n\ngetpwd(e) {\n    this.setState({\n        password: e.target.value\n    });\n}\n\n/* login = async () => {\n    const {account,password} = this.state;\n    if (account && password ) {\n      const res = await login(account, password)\n      switch (res)\n    } */\n  login=()=>{\n      const {account,password} = this.state;\n      if (account && password ) {\n       Fetch(\n         '/auth',\n         {\n           account,\n           password\n         },\n         'POST'\n       ).then(res => {\n         switch (res.code) {\n           case 200:\n             Taro.setStorage({\n               key: 'account',\n               data: account\n             });\n             Taro.setStorage({\n               key: 'password',\n               data: password\n             });\n             Taro.setStorage({\n               key: 'token',\n               data: res.data,\n           });\n           Taro.reLaunch({\n             url:'/pages/Square/Square'\n           });\n           break;\n         }\n      }).catch(() => {\n        Taro.showToast({\n          icon: 'none',\n          title: '账号或者密码错误'\n        });\n      })\n    }\n    if (!account || !password) {\n      Taro.showToast({\n        icon: 'none',\n        title: '账号或密码不能为空'\n      });\n    }\n  }\n\n    render () {\n      \n      return (\n     <View className='Login'>\n       <Image src={image}></Image>\n        <View className='header'>\n         <Image src={ziti}></Image>\n        </View>\n         <View className='passWord'>\n          <Input type='number' placeholder='请输入您的学号' className='input1' onInput={this.getuserid.bind(this)} />\n          <Input type='password' password placeholder='密码' className='input2' onInput={this.getpwd.bind(this)} />\n         </View>\n         <View>\n             <Button className='btn1' onClick={this.login}>登录</Button>\n         </View>\n     </View>\n        )\n    }\n  }","module.exports = __webpack_public_path__ + \"Images/background.png\";","module.exports = __webpack_public_path__ + \"Images/字体1.png\";","// extracted by mini-css-extract-plugin","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../node_modules/babel-loader/lib/index.js!./index.jsx\"\nvar config = {\"navigationBarTitleText\":\"店小贰\"};\n\n\nvar inst = Page(createPageConfig(component, 'pages/Login/index', {root:{cn:[]}}, config || {}))\n\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAEA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AA0BA;AAAA;AAAA;AACA;AAAA;AACA;AAGA;AACA;AAFA;AAMA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AADA;AAGA;AAjBA;AARA;AA4BA;AACA;AACA;AAFA;AA5BA;AAiCA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AAnEA;AACA;AACA;AACA;AACA;AAFA;AAFA;AAMA;AACA;;;AAAA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AADA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AA6CA;AAEA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AADA;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAIA;AACA;AAAA;AAAA;AAAA;AADA;AATA;AAcA;;;;AAxFA;AACA;;;;;;;;;;;;;ACTA;;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}