{"version":3,"file":"pages/Tags/index.js","sources":["webpack:///._src_pages_Tags_index.jsx","webpack:///._src_Components_Tag_index.css","webpack:///._src_Components_Tag_index.jsx","webpack:///._src_Components_TagList_index.css","webpack:///._src_Components_TagList_index.jsx","webpack:///._src_pages_Tags_index.css","webpack:///./src/pages/Tags/index.jsx?78ce"],"sourcesContent":["import { Component } from 'react'\r\nimport { View, Input } from '@tarojs/components'\r\nimport './index.css'\r\nimport Fetch from '../../Service/fetch'\r\nimport TagList from '../../Components/TagList'\r\n\r\nexport default class index extends Component {\r\n  state = {\r\n    tags: [],\r\n    content: ''\r\n  }\r\n\r\n  componentDidMount() {\r\n    Fetch(`/tag`, {}, 'GET')\r\n      .then(res => {\r\n        if (res.data) {\r\n          this.setState({ tags: res.data })\r\n        }\r\n      })\r\n  }\r\n\r\n  addTag = () => {\r\n    const { content } = this.state\r\n\r\n    if (content) {\r\n      Fetch('/tag', { content }, 'POST')\r\n        .then(Fetch('/tag', {}, 'GET')\r\n          .then(res => {\r\n            if (res.data) {\r\n              this.setState({ tags: res.data })\r\n            }\r\n          }))\r\n    }\r\n  }\r\n\r\n  deleteTag = (tag_id) => {\r\n    const { tags } = this.state\r\n    const newTags = tags.filter((tagObj) => {\r\n      return tagObj.tag_id !== tag_id\r\n    })\r\n    this.setState({ tags: newTags })\r\n    Fetch(`/tag/${tag_id}`, {}, 'DELETE')\r\n  }\r\n\r\n  getcontent = (e) => {\r\n    this.setState({\r\n      content: e.target.value\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { tags } = this.state\r\n    return (\r\n      <View>\r\n        <TagList tags={tags} deleteTag={this.deleteTag} content={this.state.content} tag_id={this.state.tag_id} />\r\n        <View className='Tags_input'>\r\n          <Input placeholder='请输入新的标签' onInput={this.getcontent} />\r\n          <View className='Tags_add' onClick={this.addTag}></View>\r\n        </View>\r\n      </View >\r\n    )\r\n  }\r\n}","// extracted by mini-css-extract-plugin","import { Component } from 'react'\r\nimport { View, Button } from '@tarojs/components'\r\nimport './index.css'\r\n\r\nexport default class index extends Component {\r\n\r\n  handleDelete = (Tag_id) => {\r\n    this.props.deleteTag(Tag_id)\r\n  }\r\n\r\n  render() {\r\n    const { content, tag_id } = this.props\r\n    return (\r\n      <View>\r\n        <View className='Tag_text'>{content}\r\n          {tag_id == 1 || tag_id == 2 || tag_id == 3 ? null :\r\n            <Button onClick={() => this.handleDelete(tag_id)} className='destroy'>删除</Button>}\r\n        </View>\r\n      </View>\r\n    )\r\n  }\r\n}","// extracted by mini-css-extract-plugin","import { Component } from 'react'\r\nimport { View } from '@tarojs/components'\r\nimport Tag from '../Tag/index.jsx'\r\nimport './index.css'\r\n\r\nexport default class index extends Component {\r\n\r\n  render() {\r\n    const { deleteTag, tags } = this.props\r\n    return (\r\n      <View>\r\n        {tags.map((tag) => {\r\n          return <Tag key={tag.tag_id} {...tag} deleteTag={deleteTag} />\r\n        })}\r\n      </View>\r\n    )\r\n  }\r\n}","// extracted by mini-css-extract-plugin","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../node_modules/babel-loader/lib/index.js!./index.jsx\"\nvar config = {\"navigationBarTitleText\":\"标签\"};\n\n\nvar inst = Page(createPageConfig(component, 'pages/Tags/index', {root:{cn:[]}}, config || {}))\n\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;;;AAEA;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAFA;AACA;AAaA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AACA;AAJA;AAMA;;;AAGA;AACA;AACA;AACA;AADA;AACA;AAEA;AAAA;AAAA;AACA;AAAA;;;AAGA;AACA;AACA;AADA;;;;;;;;AAjCA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AAJA;AAMA;;;AA+BA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAFA;AAFA;AAQA;;;;AAvDA;AACA;;;;;;;;;;;;ACPA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;;;;AAEA;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;;;;;;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AADA;AAOA;;;;AAhBA;AACA;;;;;;;;;;;;ACLA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;;;AAEA;;;;;;;;;;;;;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAHA;AAMA;;;;AAXA;AACA;;;;;;;;;;;;ACNA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}