{"version":3,"file":"pages/Tags/index.js","sources":["webpack:///._src_pages_Tags_index.jsx","webpack:///._src_Components_Tag_index.css","webpack:///._src_Components_Tag_index.jsx","webpack:///._src_Components_TagList_index.css","webpack:///._src_Components_TagList_index.jsx","webpack:///._src_pages_Tags_index.css","webpack:///./src/pages/Tags/index.jsx?78ce"],"sourcesContent":["import { Component } from 'react'\nimport Taro from '@tarojs/taro'\nimport { View, Input } from '@tarojs/components'\nimport './index.css'\nimport Fetch from '../../Service/fetch'\nimport TagList from '../../Components/TagList'\n\nexport default class index extends Component {\n  state = {\n    tags: [],\n    content: ''\n  }\n\n  componentDidMount() {\n    Fetch(`/tag`, {}, 'GET')\n      .then(res => {\n        if (res.data) {\n          this.setState({ tags: res.data })\n        }\n      })\n  }\n\n  addTag = () => {\n    const { content } = this.state\n\n    if (content) {\n      Fetch('/tag', { content }, 'POST')\n        .then(Fetch('/tag', {}, 'GET')\n          .then(res => {\n            if (res.data) {\n              this.setState({ tags: res.data })\n            }\n          }))\n    }\n  }\n\n  deleteTag = (tag_id) => {\n    const { tags } = this.state\n    const newTags = tags.filter((tagObj) => {\n      return tagObj.tag_id !== tag_id\n    })\n    this.setState({ tags: newTags })\n    Fetch(`/tag/${tag_id}`, {}, 'DELETE')\n  }\n\n  getcontent = (e) => {\n    this.setState({\n      content: e.target.value\n    });\n  }\n\n  render() {\n    const { tags } = this.state\n    return (\n      <View>\n        <TagList tags={tags} deleteTag={this.deleteTag} content={this.state.content} tag_id={this.state.tag_id} />\n        <View className='Tags_input'>\n          <Input placeholder='请输入新的标签' onInput={this.getcontent} />\n          <View className='Tags_add' onClick={this.addTag}></View>\n        </View>\n      </View >\n    )\n  }\n}","// extracted by mini-css-extract-plugin","import React, { Component } from 'react'\nimport Taro from '@tarojs/taro'\nimport { View, Button } from '@tarojs/components'\nimport './index.css'\n\nexport default class index extends Component {\n\n  handleDelete = (Tag_id) => {\n    this.props.deleteTag(Tag_id)\n  }\n\n  render() {\n    const { content, tag_id } = this.props\n    return (\n      <View>\n        <View className='Tag_text'>{content}\n          <Button onClick={() => this.handleDelete(tag_id)} className='destroy'>删除</Button>\n        </View>\n      </View>\n    )\n  }\n}","// extracted by mini-css-extract-plugin","import React, { Component } from 'react'\nimport { View } from '@tarojs/components'\nimport Tag from '../Tag/index.jsx'\nimport './index.css'\n\nexport default class index extends Component {\n\n  render() {\n    const { deleteTag, tags } = this.props\n    return (\n      <View>\n        {tags.map((tag) => {\n          return <Tag key={tag.tag_id} {...tag} deleteTag={deleteTag} />\n        })}\n      </View>\n    )\n  }\n}","// extracted by mini-css-extract-plugin","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../node_modules/babel-loader/lib/index.js!./index.jsx\"\nvar config = {\"navigationBarTitleText\":\"标签\"};\n\n\nvar inst = Page(createPageConfig(component, 'pages/Tags/index', {root:{cn:[]}}, config || {}))\n\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;AAEA;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAFA;AACA;AAaA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AACA;AAJA;AAMA;;;AAGA;AACA;AACA;AACA;AADA;AACA;AAEA;AAAA;AAAA;AACA;AAAA;;;AAGA;AACA;AACA;AADA;;;;;;;;AAjCA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AAJA;AAMA;;;AA+BA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAFA;AAFA;AAQA;;;;AAvDA;AACA;;;;;;;;;;;;ACRA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;;;;AAEA;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;;;;;;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AADA;AAMA;;;;AAfA;AACA;;;;;;;;;;;;ACNA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;;;AAEA;;;;;;;;;;;;;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAHA;AAMA;;;;AAXA;AACA;;;;;;;;;;;;ACNA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}