{"version":3,"file":"pages/Homepage/index.js","sources":["webpack:///._src_pages_Homepage_index.jsx","webpack:///._src_Components_Modal3_index.css","webpack:///._src_Components_Modal3_index.jsx","webpack:///._src_Images_lists.png","webpack:///._src_pages_Homepage_index.css","webpack:///./src/pages/Homepage/index.jsx?b7e1"],"sourcesContent":["import { Component } from 'react'\r\nimport Taro from '@tarojs/taro'\r\nimport { View, Text, Image } from '@tarojs/components'\r\nimport './index.css'\r\nimport favorite from '../../Images/favorite.png'\r\nimport lists from '../../Images/lists.png'\r\nimport Modal3 from '../../Components/Modal3'\r\nimport Fetch from '../../Service/fetch'\r\n\r\nexport default class index extends Component {\r\n\r\n  state = {\r\n    text: '客官，请留下对小贰的建议',\r\n    place: '限150字...',\r\n    hidden: true,\r\n    user: [],\r\n    avatar: '',\r\n  }\r\n\r\n  componentDidMount() {\r\n    Fetch(`/user`, {}, 'GET')\r\n      .then(res => {\r\n        if (res.data) {\r\n          this.setState({ user: res.data })\r\n        }\r\n      })\r\n  }\r\n\r\n  tofavourites() {\r\n    Taro.navigateTo({\r\n      url: '/pages/Favourites/index'\r\n    })\r\n  }\r\n\r\n  tolists() {\r\n    Taro.navigateTo({\r\n      url: '/pages/Lists/index'\r\n    })\r\n  }\r\n\r\n  touserinfo() {\r\n    Taro.navigateTo({\r\n      url: '/pages/changeUserinfo/index'\r\n    })\r\n  }\r\n\r\n  onPullDownRefresh() {\r\n    Taro.showNavigationBarLoading();\r\n    Fetch(`/user`, {}, 'GET')\r\n      .then(res => {\r\n        if (res.data) {\r\n          this.setState({ user: res.data })\r\n          Taro.stopPullDownRefresh();\r\n          Taro.hideNavigationBarLoading();\r\n        }\r\n      })\r\n  }\r\n\r\n  showModal = () => {\r\n    const ifHidden = this.state.hidden\r\n    const Hidden = !ifHidden\r\n    this.setState({ hidden: Hidden })\r\n  }\r\n\r\n  changeHidden = () => {\r\n    const ifHidden = this.state.hidden\r\n    const Hidden = !ifHidden\r\n    this.setState({ hidden: Hidden })\r\n  }\r\n\r\n  render() {\r\n    const { user, avatar } = this.state\r\n    return (\r\n      <View>\r\n        <View className='Homepage_box1'>\r\n          <Image className='Homepage_avatar' src={avatar ? avatar : `http://${user.image}`} onClick={this.touserinfo}></Image>\r\n          <Text className='Homepage_nickname' onClick={this.changeName}>{user.nickname}</Text>\r\n          <View className='Homepage_count'>\r\n            <View className='Homepage_box2'>\r\n              {user.posts_number}\r\n              <Text>发布</Text>\r\n            </View>\r\n            <View className='Homepage_box3'>\r\n              {user.sells_number}\r\n              <Text>卖出</Text>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View onClick={this.tolists} className='Homepage_lists'>\r\n          <Image src={lists} className='Homepage_img'></Image>\r\n          <Text>我发布的</Text>\r\n        </View>\r\n        <View onClick={this.tofavourites} className='Homepage_favourites'>\r\n          <Image src={favorite} className='Homepage_img'></Image>\r\n          <Text>我收藏的</Text>\r\n        </View>\r\n        <View className='Homepage_feedback' onClick={this.showModal}>意见反馈</View>\r\n        <Modal3 hidden={this.state.hidden} changeHidden={this.changeHidden} text={this.state.text} place={this.state.place} />\r\n      </View>\r\n    )\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin","import { Component } from 'react'\r\nimport { View, Text, Input, Button } from '@tarojs/components'\r\nimport './index.css'\r\nimport Fetch from '../../Service/fetch'\r\n\r\nexport default class Index extends Component {\r\n\r\n  componentWillMount() { }\r\n\r\n  componentDidMount() { }\r\n\r\n  componentWillUnmount() { }\r\n\r\n  componentDidShow() { }\r\n\r\n  componentDidHide() { }\r\n\r\n  handleCancle = () => {\r\n    this.props.changeHidden()\r\n  }\r\n\r\n  handleConfirm = () => {\r\n    /* const {QQ} =e.target.value */\r\n    //传输数据\r\n    const { content } = this.state\r\n    if (content) {\r\n      Fetch('/feedback', { content }, 'POST')\r\n    }\r\n    this.props.changeHidden()\r\n  }\r\n\r\n  getcontent = (e) => {\r\n    this.setState({\r\n      content: e.target.value\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { hidden, text, place } = this.props\r\n    return (\r\n      <View>\r\n        {hidden ? null : <View class='toast-box' >\r\n          <View class='toastbg'></View>\r\n          <View class='showToast'>\r\n            <View class='toast-title'>\r\n              <Text>{text}</Text>\r\n            </View>\r\n            <View class='toast-main'>\r\n              <View class='toast-input'>\r\n                <Input placeholder={place} onInput={this.getcontent} bindinput='setValue' data-name='stuEidtName' maxlength={150}></Input>\r\n              </View>\r\n            </View>\r\n            <View class='toast-button'>\r\n              <View class='button1'>\r\n                <Button catchtap='cancel' onClick={this.handleCancle}>取消</Button>\r\n              </View>\r\n              <View class='button2'>\r\n                <Button catchtap='confirm' onClick={this.handleConfirm}>确定</Button>\r\n              </View>\r\n            </View>\r\n          </View>\r\n        </View>}\r\n      </View>\r\n    )\r\n  }\r\n}","module.exports = __webpack_public_path__ + \"Images/lists.png\";","// extracted by mini-css-extract-plugin","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../node_modules/babel-loader/lib/index.js!./index.jsx\"\nvar config = {\"navigationBarTitleText\":\"个人信息\"};\n\n\nvar inst = Page(createPageConfig(component, 'pages/Homepage/index', {root:{cn:[]}}, config || {}))\n\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAEA;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AALA;AACA;AA8CA;AACA;AACA;AACA;AAAA;AAAA;AAAA;;;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAAA;;;;;;;;AAhDA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AAJA;AAMA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AANA;AAQA;;;AAcA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AAFA;AAIA;AAAA;AAEA;AAAA;AAFA;AALA;AAHA;AAcA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAFA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAFA;AAIA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAxBA;AA2BA;;;;AA3FA;AACA;;;;;;;;;;;;ACVA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;;;;AAEA;;;;;;;;;;;;;;;;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;;;;;;AA7BA;;;AAEA;;;AAEA;;;AAEA;;;AAEA;;;AAsBA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AADA;AAGA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AADA;AAKA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AADA;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AADA;AAJA;AATA;AAFA;AADA;AAwBA;;;;AA3DA;AACA;;;;;;;;;;;;;ACNA;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}